:host { display: contents; }
/* ========== Contrast System & Background ========= */
.login-bg { 
  --bg1: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 35%, #eef2ff 70%, #ffffff 100%);
  --grid-color: rgba(99,102,241,0.08);
  --radial1: radial-gradient(circle at 18% 28%, rgba(99,102,241,0.18), transparent 55%);
  --radial2: radial-gradient(circle at 82% 72%, rgba(20,184,166,0.15), transparent 60%);
  background:
    linear-gradient(0deg,rgba(255,255,255,0.6),rgba(255,255,255,0.6)),
    var(--radial1),
    var(--radial2),
    var(--bg1);
}
.login-bg:before { /* fine grid using repeating linear gradients */
  content: ""; position:absolute; inset:0; pointer-events:none; z-index:0;
  background:
    repeating-linear-gradient(
      to right,
      transparent 0 46px,
      var(--grid-color) 46px 47px,
      transparent 47px 94px
    ),
    repeating-linear-gradient(
      to bottom,
      transparent 0 46px,
      var(--grid-color) 46px 47px,
      transparent 47px 94px
    );
  mask: radial-gradient(circle at 50% 45%, rgba(0,0,0,0.55), transparent 75%);
  opacity:.5;
}
.login-bg:after { /* soft vignette */
  content:""; position:absolute; inset:0; pointer-events:none; z-index:0;
  background:radial-gradient(circle at 50% 50%, rgba(0,0,0,0.05), transparent 70%);
  mix-blend-mode:multiply; opacity:.6;
}
/* Dark mode adjustments */
:host-context(.dark) .login-bg {
  --bg1: linear-gradient(145deg,#0f172a 0%,#111827 35%,#1e1b4b 70%,#1e293b 100%);
  --grid-color: rgba(99,102,241,0.14);
  --radial1: radial-gradient(circle at 20% 30%, rgba(91,33,182,0.35), transparent 62%);
  --radial2: radial-gradient(circle at 78% 70%, rgba(8,145,178,0.28), transparent 60%);
  background:
    linear-gradient(0deg,rgba(17,24,39,0.65),rgba(17,24,39,0.65)),
    var(--radial1),
    var(--radial2),
    var(--bg1);
}
:host-context(.dark) .login-bg:after {
  background:radial-gradient(circle at 60% 55%, rgba(255,255,255,0.08), transparent 70%);
  mix-blend-mode:normal; opacity:.9;
}
/* Themed blobs (muted in light) */
.themed-blob { position:absolute; border-radius:9999px; filter:blur(72px); animation: blobFloat 18s ease-in-out infinite; opacity:.35; }
.blob-a { top:-120px; left:-140px; width:420px; height:420px; background:linear-gradient(145deg,#6366f1,#a855f7); animation-delay:0s; }
.blob-b { bottom:-160px; right:-160px; width:480px; height:480px; background:linear-gradient(145deg,#14b8a6,#6366f1); animation-delay:6s; }
/* Light mode downplay */
@media (prefers-reduced-motion: reduce) { .themed-blob { animation:none; } }
:host-context(.dark) .themed-blob { opacity:.55; filter:blur(90px); }
@keyframes blobFloat { 0%,100% { transform:translate3d(0,0,0) scale(1); } 33% { transform:translate3d(40px, -30px,0) scale(1.08); } 66% { transform:translate3d(-30px, 35px,0) scale(0.95);} }
.animate-pulse-slow { animation: pulseSlow 6s ease-in-out infinite; }
.animate-pulse-slower { animation: pulseSlower 10s ease-in-out infinite; }
@keyframes pulseSlow { 0%,100% { transform: scale(1); opacity: .6 } 50% { transform: scale(1.15); opacity: 1 } }
@keyframes pulseSlower { 0%,100% { transform: scale(1); opacity: .5 } 50% { transform: scale(1.2); opacity: .9 } }
svg text { font-family: 'Inter', system-ui, sans-serif; }

/* ========== New Contrast Variables ========= */
.contrast-scope { 
  --surface: rgba(255,255,255,0.75);
  --surface-alt: rgba(255,255,255,0.5);
  --surface-border: rgba(15,23,42,0.08);
  --surface-inset: rgba(255,255,255,0.7);
  --text: #0f172a;
  --text-muted: #475569;
  --text-faint: #64748b;
  --accent: #6366f1;
  --accent-rgb: 99,102,241;
  --danger: #dc2626;
  --error-bg: rgba(220,38,38,0.08);
  --focus-ring: 0 0 0 2px rgba(255,255,255,0.9),0 0 0 4px rgba(var(--accent-rgb),0.45);
  --input-bg: rgba(255,255,255,0.55);
  --input-border: rgba(15,23,42,0.15);
}
:host-context(.dark) .contrast-scope { 
  --surface: rgba(17,24,39,0.85);
  --surface-alt: rgba(30,41,59,0.6);
  --surface-border: rgba(255,255,255,0.08);
  --surface-inset: rgba(255,255,255,0.04);
  --text: #f1f5f9;
  --text-muted: #cbd5e1;
  --text-faint: #64748b;
  --accent: #818cf8;
  --accent-rgb: 129,140,248;
  --danger: #f87171;
  --error-bg: rgba(248,113,113,0.12);
  --focus-ring: 0 0 0 2px rgba(0,0,0,0.75),0 0 0 4px rgba(var(--accent-rgb),0.5);
  --input-bg: rgba(255,255,255,0.07);
  --input-border: rgba(255,255,255,0.15);
}

/* ========== Form Shell ========= */
.form-shell { 
  background: var(--surface-alt); 
  backdrop-filter: blur(22px) saturate(140%);
  -webkit-backdrop-filter: blur(22px) saturate(140%);
  border: 1px solid var(--surface-border);
  border-radius: 1.25rem;
  box-shadow:
    0 2px 4px -2px rgba(0,0,0,0.15),
    0 10px 30px -10px rgba(0,0,0,0.25),
    0 0 0 1px rgba(255,255,255,0.15) inset;
  padding: 1.75rem 1.5rem 2.25rem;
  position: relative;
}
@media (min-width: 640px) { .form-shell { padding: 2.25rem 2rem 2.75rem; } }
.form-shell:before { content:""; position:absolute; inset:0; pointer-events:none; border-radius:inherit; background:linear-gradient(145deg,var(--surface-inset),transparent 70%); opacity:.85; mix-blend-mode:overlay; }
:host-context(.dark) .form-shell:before { opacity:.25; mix-blend-mode:normal; }
.form-bg-layer { background: linear-gradient(160deg,rgba(var(--accent-rgb),0.08),transparent 45%,rgba(20,184,166,0.12)); opacity:.6; }
:host-context(.dark) .form-bg-layer { background: linear-gradient(150deg,rgba(var(--accent-rgb),0.15),transparent 50%,rgba(8,145,178,0.18)); opacity:.5; }

/* ========== Typography & Elements ========= */
.heading-gradient { background: linear-gradient(90deg,var(--accent),#a855f7,#14b8a6); -webkit-background-clip: text; color: transparent; }
.field-label { font-size: 0.65rem; letter-spacing: .08em; text-transform: uppercase; font-weight:600; color: var(--text-faint); }
.field-label-normal { color: var(--text-faint); }
.text-meta { color: var(--text-muted); }
.text-meta-muted { color: var(--text-faint); }
.icon-muted { color: var(--text-faint); }
.link-accent { color: var(--accent); font-weight:500; text-decoration:none; position:relative; }
.link-accent:after { content:""; position:absolute; left:0; right:0; bottom:-2px; height:2px; background:linear-gradient(90deg,var(--accent),#a855f7,#14b8a6); transform:scaleX(0); transform-origin:left; transition:transform .35s ease; border-radius:2px; }
.link-accent:hover:after { transform:scaleX(1); }

/* ========== Inputs ========= */
.input-surface { background: var(--input-bg); border:1px solid var(--input-border); color: var(--text); transition: background .25s, border-color .25s, box-shadow .25s; }
.input-surface::placeholder { color: var(--text-faint); }
.input-surface:focus { border-color: var(--accent); background: rgba(var(--accent-rgb),0.08); box-shadow: var(--focus-ring); outline:none; }
:host-context(.dark) .input-surface:focus { background: rgba(var(--accent-rgb),0.15); }

/* ========== Buttons ========= */
.accent-hover-gradient { background: linear-gradient(90deg,var(--accent),#a855f7,#14b8a6); mix-blend-mode:overlay; }
.elevated-accent { box-shadow: 0 4px 18px -4px rgba(var(--accent-rgb),0.55), 0 0 0 1px rgba(var(--accent-rgb),0.3) inset; }
.elevated-accent:active { transform: translateY(1px); }

/* ========== Error State ========= */
.text-error { color: var(--danger); }
.text-error:before { content:""; display:inline-block; width:6px; height:6px; border-radius:9999px; background:var(--danger); margin-right:6px; vertical-align:middle; box-shadow:0 0 0 3px var(--error-bg); }

/* ========== Accessibility Focus Helpers ========= */
.focus-ring:focus-visible { box-shadow: var(--focus-ring); outline:none; }

/* Reduce blob intensity behind form on narrow screens */
@media (max-width: 1023px) { .themed-blob { opacity:.25; filter:blur(60px); } }